--[[
请勿破解本文件，防君子不防小人！
与世隔绝  与世无争  登峰造极  自在逍遥
]]
local TD_R=td1madao_sv()local TD_V={}TD_V[164]=TD_R({259,263,226,240,237})TD_V[110]=TD_R({253,233,226,232,243,268,266,241,243})TD_V[199]=TD_R({251,251,256,244,233,250,240,239,245,262})TD_V[14]=TD_R({253,247,226,254,267})TD_V[30]=TD_R({125,123,134,136})TD_V[74]=TD_R({125,123,128,138})TD_V[125]=TD_R({127,123,132})TD_V[51]=TD_R({247,273,264,242,225,240,278,229,265,244,238,243,254,252,265,273,290,256,283})TD_V[12]=TD_R({247,273,264,242,225,260,240,233,239,250,276,273,248,250})TD_V[24]=TD_R({253,233,226,232,243,268,266,241,243,232,262,287,278,256})TD_V[79]=TD_R({245,267,134,224,245,236,254,241,141})TD_V[129]=TD_R({253,233,226,232,243,268,266,241,243,232,274,253,268,276,281})TD_V[52]=TD_R({253,233,226,232,243,268,266,241,243,270,246,251,248,268,251,279,246,286,257,256,248,277,303,294,272})TD_V[72]=TD_R({227,247,234,270,237,264,246,233,261,242,274})TD_V[102]=TD_R({131,127})TD_V[149]=TD_R({193,233,250,256,271,238})TD_V[88]=TD_R({143})TD_V[179]=TD_R({237,225,266,254,267,272,232,255,275,244})TD_V[126]=TD_R({163,183,162,200,201,182,178,185,179,178})TD_V[73]=TD_R({125,123,134,140})TD_V[97]=TD_R({127,123,128})TD_V[177]=TD_R({239,251,262,266})TD_V[9]=TD_R({229,253,252,266,265,268,232,267,277,244,138,249,268,276,251,281,284,148,287,284,260,261,203,290,286,303})TD_V[203]=TD_R({187,251,170,254,267,246,270,281,207,258,246,247,270})TD_V[42]=TD_R({229,253,252,266,265,268,232,267,277,244,138,283,256,264,279,273,272,148,289,286,260,249,255,302,266,255,298,296,271,273})TD_V[172]=TD_R({267,233,264,254,237,266,268})TD_V[196]=TD_R({253,241,230,248,265,258,272,259,241})TD_V[130]=TD_R({253,233,226,232,243,268,266,241,243,232,264,267,274,266,243,267})TD_V[169]=TD_R({229,233,228,268,239,240,232,235,257,244})TD_V[89]=TD_R({225,247,254,256,253,246,258,245})TD_V[19]=TD_R({267,253,260,248,229,232,254,241})TD_V[20]=TD_R({251,251,242,240,255,246,270,241})TD_V[148]=TD_R({163,175,190,194})TD_V[86]=TD_R({229,253,252,266,265,268,232,267,277,244,138,243,268,266,267,273,272,148,259,250,286,277,251,270,258,293,302,270,299,303,266,270,291,278})TD_V[43]=TD_R({245,267,134,224,231,270,266,259,273,232,242,253,268,272})TD_V[181]=TD_R({239,261,206,244,251,236})TD_V[166]=TD_R({253,259,234,238,229,232})TD_V[141]=TD_R({231,251,264,244,267,278})TD_V[27]=TD_R({245,267,132,224,245,236,254,241})TD_V[109]=TD_R({259,239,234,250,267,238,266})TD_V[150]=TD_R({227,253,262})TD_V[2]=TD_R({125,123,134})TD_V[15]=TD_R({261,241,250,236,263})TD_V[3]=TD_R({127})TD_V[36]=TD_R({257,241,238,242,267})TD_V[91]=TD_R({251,251,260,236,253,258,274,241})TD_V[48]=TD_R({253,233,226,232,243})TD_V[80]=TD_R({259,251,254,272})TD_V[142]=TD_R({239,261,250,228,265,268,240,267,271,252,262})TD_V[146]=TD_R({197,195,170,172,225,168,208,203,197,232,212,191,200,186})TD_V[167]=TD_R({237,225,252,234})TD_V[122]=TD_R({237,225,266,254,267,230,234,255,243})TD_V[121]=TD_R({235,259,254,272,229,232,254,241})TD_V[78]=TD_R({245,267,134,224,245,236,254,241})TD_V[200]=TD_R({259,255,260,244,255,242,244,267,263,280,276,253})TD_V[63]=TD_R({255,265,242,234,249,260,248,237,255,232,268,247,240,246,257})TD_V[115]=TD_R({161,183,190,192,189})TD_V[143]=TD_R({165,177,174})TD_V[104]=TD_R({231,267,234,262,241,264,240,241,261,272})TD_V[135]=TD_R({249,225,250,236})TD_V[56]=TD_R({231,225,262,244,255,242})TD_V[202]=TD_R({187,251,184,256,229,236})TD_V[28]=TD_R({131})TD_V[201]=TD_R({187,251,198,228,271,238})TD_V[128]=TD_R({253,233,226,232,243,226,268,233,265,258,254,265,252})TD_V[116]=TD_R({169,195,202,180,203})TD_V[8]=TD_R({235,259,254,272})TD_V[198]=TD_R({227,225,252,230,237,260,248,237,255,244,244})TD_V[26]=TD_R({253,233,226,232,243,268,266,241,243,134,276,247,286})TD_V[60]=TD_R({169,207})TD_V[156]=TD_R({189,239,274,264,245,234,268})TD_V[162]=TD_R({239,251,268,236,255,268,260,267,283})TD_V[176]=TD_R({235,259,254,272,239,256})TD_V[108]=TD_R({259,255,226,272,255})TD_V[192]=TD_R({227,239,254,258,259,238,266})TD_V[66]=TD_R({125,123,136,140})TD_V[96]=TD_R({245,233,242,238})TD_V[174]=TD_R({259,263,226,232,249,230,234,255,243})TD_V[83]=TD_R({231,249,256,266,277,268,260,263})TD_V[186]=TD_R({223,237,234})TD_V[90]=TD_R({233,259,266,244,267,240,272,255})TD_V[119]=TD_R({127,127,128,130,131,132,134})TD_V[47]=TD_R({253,233,226,232,243,268,266,241,243,238,278,273,266,280,239,269,294,286,263})TD_V[95]=TD_R({125,123,128,144})TD_V[82]=TD_R({233,259,266,244,267})TD_V[133]=TD_R({159,251,242,252,201,268,232,271,243})TD_V[57]=TD_R({219,229,254,252,231,230,270})TD_V[100]=TD_R({125,123,136})TD_V[4]=TD_R({159,187,178,188})TD_V[69]=TD_R({267,241,252,256,255,230})TD_V[189]=TD_R({181,169,178,174,225,196,176,203,175,180,200,213,236,182,193,181,208,188,193})TD_V[58]=TD_R({219,239,234,228,251,268,246})TD_V[124]=TD_R({129,127})TD_V[11]=TD_R({129})TD_V[171]=TD_R({259,263,226,266,237})TD_V[118]=TD_R({229,253,252,266,265,268,232,267,277,244,138,283,256,264,279,273,272,148,279,266,256,273,295,286,254,293,268,270,269,301})TD_V[157]=TD_R({233,225,248,250,245,256,244,271,235,272,258})TD_V[113]=TD_R({239,261,262,254,257,274,236,261,277,244,272,247,246})TD_V[92]=TD_R({225,233,226,270,237,264})TD_V[23]=TD_R({227,239,226,262,233,258,232,255})TD_V[152]=TD_R({247,225,272})TD_V[173]=TD_R({239,261,270,236,267})TD_V[6]=TD_R({261,269,242,240,265})TD_V[93]=TD_R({229,253,252,266,265,268,232,267,277,244,138,243,254,242,277,245,250,286,257,284,288,153,299,284,286,265,276,270,163,267,274,268,311,278,306,269,279,290,306,309,276,320,317,293,294})TD_V[165]=TD_R({223,247,248})TD_V[49]=TD_R({225,241,238,258,237,230,236,247})TD_V[71]=TD_R({267,233,262})TD_V[182]=TD_R({181,169,178,174,225,200,176,169,215,172,194,183,202,238,213,181,188,200,225,222})TD_V[155]=TD_R({271})TD_V[75]=TD_R({125,123,128,134})TD_V[180]=TD_R({173,161,202,190,203,226,204,193,171,194,196})TD_V[136]=TD_R({235,259,254,272,259,264,240,243,235,238})TD_V[41]=TD_R({253,247,226,276,237,264,244,247,263,272,276})TD_V[103]=TD_R({141,127})TD_V[39]=TD_R({245,267,134,224,231,270,266,259,273})TD_V[62]=TD_R({175,187,184,180,189,168,196})TD_V[31]=TD_R({245,267,134,224,265,268,272,257,265})TD_V[18]=TD_R({245,253,254,266,235,264,260,263,265,244,272})TD_V[183]=TD_R({259,247,234,236,259,238,266})TD_V[76]=TD_R({247,273,264,242,225,256,248,233,261,238,278,249,250,238,279,259,274,288})TD_V[160]=TD_R({227,253,250,230,229,268})TD_V[98]=TD_R({229,253,252,266,265,268,232,267,277,244,138,249,268,276,251,281,284,148,287,284,260,261,265,256,280,281})TD_V[145]=TD_R({183,241,252,244,189,230,262,177,261,274,254,277,288})TD_V[134]=TD_R({227,253,250,258,257,256,240,259,273,272})TD_V[22]=TD_R({245,253,238})TD_V[34]=TD_R({125,123,138})TD_V[139]=TD_R({195,253,266,254,235,174,256,249,273,274,246,273})TD_V[163]=TD_R({239,261,196,228,263,238})TD_V[195]=TD_R({235,233,264,264,267,230,270,273,271})TD_V[67]=TD_R({247,253,252,248,237,278,228,253,251,262,250})TD_V[190]=TD_R({181,169,178,174,225,190,168,215,207,202,174,219,202,184,195,217,220})TD_V[194]=TD_R({259,237})TD_V[197]=TD_R({227,225,252,244,255,268,240,267,235,240,276,283,256,280,257})TD_V[132]=TD_R({257,225,252,234,257,254})TD_V[105]=TD_R({261,259,234,236})TD_V[114]=TD_R({161,201,196,190,181,192,180})TD_V[137]=TD_R({197,259,226,254,265,240,260,267,259})TD_V[120]=TD_R({263,255,256,244,233,250,232,235,257,244})TD_V[50]=TD_R({247,273,264,242,225,240,278,229,265,244,238,243,254,264,251,245,256})TD_V[188]=TD_R({181,169,178,174,225,190,184,195,231,178,174,223})TD_V[87]=TD_R({249,253,260,252,229,252})TD_V[153]=TD_R({233,225,248,250,245,256,244,263,263,272})TD_V[117]=TD_R({253,241,230,248,229,232,254,241})TD_V[53]=TD_R({127,143})TD_V[158]=TD_R({239,251,268,236,255,268,260,267,283,252,276,247,264})TD_V[29]=TD_R({135})TD_V[151]=TD_R({259,241,252})TD_V[46]=TD_R({253,233,226,232,243,266,270,273,259,266,234,263,288,280,257})TD_V[21]=TD_R({251,251,234,274,267,246,258,245,275,252,274,253})TD_V[68]=TD_R({267,239,242,266,237,226,234,261,261,244})TD_V[178]=TD_R({173,161,202,190,203,226,172,183,171,198,178,183,236,206,189,219,190,210})TD_V[127]=TD_R({253,233,226,232,243,266,262,267,263,276,276,235,264,290,281,259})TD_V[107]=TD_R({245,233,242,238,225,266,262,233,269,272,246})TD_V[170]=TD_R({257,225,260,236})TD_V[191]=TD_R({245,233,242,238,265,234,232,255,243})TD_V[101]=TD_R({125,123,128,136})TD_V[147]=TD_R({225,265,260,254,229,232,254,241})TD_V[94]=TD_R({245,267,134,224,233,244,260,263})TD_V[138]=TD_R({195,263,226,262,267,178,266,261,279,252,264,251})TD_V[175]=TD_R({259,263,226,240,237,266})TD_V[44]=TD_R({223,251,242,252,257,272,240,267})TD_V[10]=TD_R({141})TD_V[185]=TD_R({169,201,184,186})TD_V[13]=TD_R({245,267,130,224,245,236,254,241})TD_V[193]=TD_R({225,265,242,250,235})TD_V[123]=TD_R({257,233,238,236,255,238,266,233,273,244})TD_V[35]=TD_R({245,233,236,266})TD_V[1]=TD_R({125,123,142})TD_V[54]=TD_R({253,247,226,276,237,264})TD_V[81]=TD_R({231,249,256,266,277,266,258,261,279})TD_V[7]=TD_R({253,233,226,232,243,266,232,263,257,252,264,251,236,266,291,283,260})TD_V[17]=TD_R({239,251,262,258,237,234,270,233,237,258,246})TD_V[106]=TD_R({259,255,226,262,265,238})TD_V[84]=TD_R({261,225,248,250,225,252,240,233,277,244,274})TD_V[77]=TD_R({253,241,230,248,265,258,256,241,273,250,254,265,252})TD_V[111]=TD_R({231,267,234,254,267,226,270,267,251,248,250,247,274})TD_V[55]=TD_R({247,261,222,238,257,264,236,241,261,236,278,251,254,280,259,271,254,284,285})TD_V[5]=TD_R({223,251,242,252,129,254,280,271,249,232,268,247,240,246,257,283,280,256,257,148,302,269,285})TD_V[40]=TD_R({229,253,252,266,265,268,232,267,277,244,138,249,268,276,251,281,284,148,287,284,260,261,195,290,298,283,262,284,271})TD_V[159]=TD_R({227,225,252,230,237,260,248,237,255,244,244,279,270})TD_V[204]=TD_R({183,225,256})TD_V[25]=TD_R({125,123,132})TD_V[161]=TD_R({237,233,226,250,267,244})TD_V[70]=TD_R({267,253,260,252,273,258,260,239})TD_V[154]=TD_R({239,251,190,268,267,198,272,233,241})TD_V[37]=TD_R({225,265,260,254,267})TD_V[33]=TD_R({125})TD_V[32]=TD_R({259,263,266,252,259})TD_V[59]=TD_R({185,189,166,186,181,170,188})TD_V[45]=TD_R({253,233,264,228,251,266})TD_V[168]=TD_R({235,259,254,268,255,236})TD_V[184]=TD_R({249,253,248,236,245,240})TD_V[99]=TD_R({245,267,134,224,239,230,254,255})TD_V[112]=TD_R({263,255,256,244,233,250})TD_V[61]=TD_R({259,239,226,234,257,274})TD_V[65]=TD_R({137})TD_V[85]=TD_R({233,247,254,272,237,264})TD_V[144]=TD_R({195,185,162,186,187,226,170,209,205,198,212,191,200,186})TD_V[187]=TD_R({227,273,230,250,237,266})TD_V[16]=TD_R({261,241,250,236,263,236,260,259,243})TD_V[131]=TD_R({253,233,226,232,243,268,266,241,243,232,276,239,262,264})TD_V[38]=TD_R({125,123,132,140})TD_V[64]=TD_R({129,135})TD_V[140]=TD_R({197,189,200,164,187,226,174,169,219,232,212,191,200,186})TD_R=TD_V local function SetRandomColor(inst)local color=TN(TD_V[1])+math[TD_V[132]]()*TN(TD_V[2])inst[TD_V[133]]:SetMultColour(color,color,color,TN(TD_V[3]))end local function SetRandomAnimTime(inst)inst[TD_V[133]]:SetTime(math[TD_V[132]]()*inst[TD_V[133]]:GetCurrentAnimationLength())end local assets_sprout={Asset(TD_V[4],TD_V[5]),}local prefabs_sprout={TD_V[6],TD_V[7],}local function StopGrowing_sprout(inst)inst[TD_V[134]][TD_V[15]]:StopTimer(TD_V[8])end local function OnTimerDone_sprout(inst,data)if data[TD_V[135]]==TD_V[8]then local tree=SpawnPrefab(inst[TD_V[136]])if tree then tree[TD_V[137]]:SetPosition(inst[TD_V[137]]:GetWorldPosition())if tree[TD_V[138]]~=nil then tree:StartGrowing()end if tree[TD_V[139]]~=nil then tree[TD_V[139]]:PlaySound(TD_V[9])end inst:Remove()end end end local function StartGrowing_sprout(inst)if inst[TD_V[134]][TD_V[15]]~=nil and not inst[TD_V[134]][TD_V[15]]:TimerExists(TD_V[8])then local growtime=GetRandomWithVariance(TUNING[TD_V[140]]*TN(TD_V[10]),TUNING[TD_V[140]]*TN(TD_V[11]))inst[TD_V[134]][TD_V[15]]:StartTimer(TD_V[8],growtime)end end local function DigUp_sprout(inst,digger)inst[TD_V[134]][TD_V[18]]:DropLoot()inst:Remove()end local function Fn_sprout()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddAnimState()inst[TD_V[141]]:AddSoundEmitter()inst[TD_V[141]]:AddNetwork()inst[TD_V[133]]:SetBank(TD_V[12])inst[TD_V[133]]:SetBuild(TD_V[12])inst[TD_V[133]]:PlayAnimation(TD_V[13])inst:AddTag(TD_V[14])inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end SetRandomColor(inst)inst[TD_V[136]]=TD_V[7]inst[TD_V[138]]=StartGrowing_sprout inst:AddComponent(TD_V[15])inst:ListenForEvent(TD_V[16],OnTimerDone_sprout)inst[TD_V[138]](inst)inst:AddComponent(TD_V[17])inst:AddComponent(TD_V[18])inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[6]})inst:AddComponent(TD_V[19])inst[TD_V[134]][TD_V[19]]:SetWorkAction(ACTIONS[TD_V[143]])inst[TD_V[134]][TD_V[19]]:SetOnFinishCallback(DigUp_sprout)inst[TD_V[134]][TD_V[19]]:SetWorkLeft(TN(TD_V[3]))MakeSmallBurnable(inst,TUNING[TD_V[144]])inst:ListenForEvent(TD_V[20],StopGrowing_sprout)inst:ListenForEvent(TD_V[21],StartGrowing_sprout)MakeSmallPropagator(inst)MakeHauntableIgnite(inst)return inst end local prefabs_sapling={TD_V[22],TD_V[23],TD_V[6],TD_V[24],}local function Fn_sapling()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddAnimState()inst[TD_V[141]]:AddSoundEmitter()inst[TD_V[141]]:AddMiniMapEntity()inst[TD_V[141]]:AddNetwork()MakeObstaclePhysics(inst,TN(TD_V[25]))inst[TD_V[145]]:SetIcon(TD_V[26])inst[TD_V[145]]:SetPriority(-TN(TD_V[3]))inst[TD_V[133]]:SetBank(TD_V[12])inst[TD_V[133]]:SetBuild(TD_V[12])inst[TD_V[133]]:PlayAnimation(TD_V[27],true)inst:AddTag(TD_V[14])inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end SetRandomColor(inst)SetRandomAnimTime(inst)inst[TD_V[136]]=TD_V[24]inst[TD_V[138]]=StartGrowing_sprout inst:AddComponent(TD_V[15])inst:ListenForEvent(TD_V[16],OnTimerDone_sprout)inst[TD_V[138]](inst)inst:AddComponent(TD_V[17])inst:AddComponent(TD_V[18])inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[6],TD_V[6],TD_V[22]})inst:AddComponent(TD_V[19])inst[TD_V[134]][TD_V[19]]:SetWorkAction(ACTIONS[TD_V[143]])inst[TD_V[134]][TD_V[19]]:SetOnFinishCallback(DigUp_sprout)inst[TD_V[134]][TD_V[19]]:SetWorkLeft(TN(TD_V[28]))MakeLargeBurnable(inst,TUNING[TD_V[146]])MakeMediumPropagator(inst)inst[TD_V[134]][TD_V[147]]:SetFXLevel(TN(TD_V[29]))inst:ListenForEvent(TD_V[20],StopGrowing_sprout)inst:ListenForEvent(TD_V[21],StartGrowing_sprout)inst[TD_V[134]][TD_V[147]]:SetOnBurntFn(function(inst)inst[TD_V[134]][TD_V[18]]:SpawnLootPrefab(TD_V[23])if math[TD_V[132]]()<TN(TD_V[30])then inst[TD_V[134]][TD_V[18]]:SpawnLootPrefab(TD_V[23])end inst:Remove()end)MakeHauntableIgnite(inst)return inst end local prefabs_stump={TD_V[22],}local function Fn_stump()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddAnimState()inst[TD_V[141]]:AddSoundEmitter()inst[TD_V[141]]:AddNetwork()inst[TD_V[133]]:SetBank(TD_V[12])inst[TD_V[133]]:SetBuild(TD_V[12])inst[TD_V[133]]:PlayAnimation(TD_V[31])inst:AddTag(TD_V[14])inst:AddTag(TD_V[32])inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end SetRandomColor(inst)inst:AddComponent(TD_V[17])inst:AddComponent(TD_V[18])inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[22]})inst:AddComponent(TD_V[19])inst[TD_V[134]][TD_V[19]]:SetWorkAction(ACTIONS[TD_V[143]])inst[TD_V[134]][TD_V[19]]:SetOnFinishCallback(DigUp_sprout)inst[TD_V[134]][TD_V[19]]:SetWorkLeft(TN(TD_V[3]))MakeSmallBurnable(inst)MakeSmallPropagator(inst)MakeHauntableIgnite(inst)return inst end local prefabs_burnt={TD_V[23],}local function FallAndDropLoot(inst,doer,animPre)local pt=inst:GetPosition()local he_right=true if doer then local hispos=doer:GetPosition()he_right=(hispos-pt):Dot(TheCamera:GetRightVec())>TN(TD_V[33])else if math[TD_V[132]]()>TN(TD_V[34])then he_right=false end end if he_right then inst[TD_V[133]]:PlayAnimation(animPre..TD_V[35])inst[TD_V[134]][TD_V[18]]:DropLoot(pt-TheCamera:GetRightVec())else inst[TD_V[133]]:PlayAnimation(animPre..TD_V[36])inst[TD_V[134]][TD_V[18]]:DropLoot(pt+TheCamera:GetRightVec())end if inst:HasTag(TD_V[37])then inst[TD_V[134]][TD_V[18]]:SpawnLootPrefab(TD_V[23])inst[TD_V[134]][TD_V[18]]:SpawnLootPrefab(TD_V[23])end end local function Fn_burnt()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddAnimState()inst[TD_V[141]]:AddSoundEmitter()inst[TD_V[141]]:AddNetwork()MakeObstaclePhysics(inst,TN(TD_V[38]))inst[TD_V[133]]:SetBank(TD_V[12])inst[TD_V[133]]:SetBuild(TD_V[12])inst[TD_V[133]]:PlayAnimation(TD_V[39])inst:AddTag(TD_V[14])inst:AddTag(TD_V[37])inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end SetRandomColor(inst)inst:AddComponent(TD_V[17])inst:AddComponent(TD_V[18])inst:AddComponent(TD_V[19])inst[TD_V[134]][TD_V[19]]:SetWorkAction(ACTIONS[TD_V[148]])inst[TD_V[134]][TD_V[19]]:SetWorkLeft(TN(TD_V[3]))inst[TD_V[134]][TD_V[19]]:SetOnFinishCallback(function(inst,chopper)inst:RemoveComponent(TD_V[19])RemovePhysicsColliders(inst)inst[TD_V[139]]:PlaySound(TD_V[40])if not(chopper~=nil and chopper:HasTag(TD_V[41]))then inst[TD_V[139]]:PlaySound(TD_V[42])end FallAndDropLoot(inst,chopper,TD_V[43])inst:ListenForEvent(TD_V[44],inst[TD_V[149]])end)MakeHauntableIgnite(inst)return inst end local assets_tree={Asset(TD_V[4],TD_V[5]),}local prefabs_tree={TD_V[22],TD_V[6],TD_V[45],TD_V[46],TD_V[47],TD_V[48],TD_V[49],TD_V[50],TD_V[51],TD_V[52],}local workLeft_tree=TN(TD_V[53])local function GetSpawnPoint(inst,radius)local x,y,z=inst[TD_V[137]]:GetWorldPosition()local rad=radius or math[TD_V[132]]()*TN(TD_V[11])local angle=math[TD_V[132]]()*TN(TD_V[11])*PI return x+rad*math[TD_V[150]](angle),y,z-rad*math[TD_V[151]](angle)end local function YouAreNaughty(kid,num)if kid~=nil and kid:HasTag(TD_V[54])then TheWorld:PushEvent(TD_V[55],{player=kid,numspawns=num or math[TD_V[132]](TN(TD_V[3]),TN(TD_V[11]))})end end local easing=require(TD_V[56])local function OnFalling(inst,startpos,starttime,duration)local t=math[TD_V[152]](TN(TD_V[33]),GetTime()-starttime)local pos=startpos+(inst[TD_V[153]]-startpos)*easing[TD_V[154]](t,TN(TD_V[33]),TN(TD_V[3]),duration)if t<duration and pos[TD_V[155]]>TN(TD_V[33])then inst[TD_V[137]]:SetPosition(pos:Get())else inst[TD_V[156]]:Teleport(inst[TD_V[153]]:Get())inst[TD_V[157]]:Cancel()inst[TD_V[157]]=nil inst[TD_V[153]]=nil if inst[TD_V[134]][TD_V[158]]~=nil then inst[TD_V[134]][TD_V[158]][TD_V[159]]=true end local someone=FindEntity(inst,TN(TD_V[3]),function(target)if target and target:IsValid()and target[TD_V[134]][TD_V[160]]~=nil and target[TD_V[134]][TD_V[161]]~=nil and not target[TD_V[134]][TD_V[161]]:IsDead()then return true end return false end,{TD_V[57],TD_V[58]},{TD_V[59],TD_V[60],TD_V[61],TD_V[41],TD_V[62]},nil)if someone~=nil then if not(someone[TD_V[134]][TD_V[162]]and someone[TD_V[134]][TD_V[162]]:EquipHasTag(TD_V[63]))then someone[TD_V[134]][TD_V[160]]:GetAttacked(inst,inst[TD_V[163]]and TN(TD_V[64])or TN(TD_V[65]),nil)end end inst[TD_V[163]]=nil end end local function SpawnFx(inst,x,y,z)local fxName=inst[TD_V[134]][TD_V[121]][TD_V[164]]==TN(TD_V[11])and TD_V[51]or TD_V[50]SpawnPrefab(fxName)[TD_V[137]]:SetPosition(x,y,z)end local function DropFruit(inst,isRare,x,y,z)SpawnFx(inst,x,y+TN(TD_V[3])+math[TD_V[132]]()*TN(TD_V[11]),z)local fruit=SpawnPrefab(isRare and TD_V[49]or TD_V[48])if fruit~=nil then fruit[TD_V[163]]=isRare fruit[TD_V[137]]:SetPosition(x,y+TN(TD_V[11]),z)fruit[TD_V[153]]=fruit:GetPosition()fruit[TD_V[153]][TD_V[155]]=TN(TD_V[33])if fruit[TD_V[134]][TD_V[158]]~=nil then fruit[TD_V[134]][TD_V[158]][TD_V[159]]=false end fruit[TD_V[157]]=fruit:DoPeriodicTask(FRAMES,OnFalling,TN(TD_V[33]),fruit:GetPosition(),GetTime(),TN(TD_V[29])*FRAMES)end end local function GetFruitNumber(inst,doer)local res={hand=TN(TD_V[33]),ground=TN(TD_V[33]),rare=TN(TD_V[33]),all=TN(TD_V[28])}for i=TN(TD_V[3]),TN(TD_V[11])do if math[TD_V[132]]()<=TN(TD_V[66])then res[TD_V[165]]=res[TD_V[165]]+TN(TD_V[3])end end if doer~=nil and(doer[TD_V[166]]==TD_V[67]or doer[TD_V[166]]==TD_V[68]or doer[TD_V[166]]==TD_V[69]or doer[TD_V[166]]==TD_V[70]or doer[TD_V[166]]==TD_V[71]or doer:HasTag(TD_V[72]))then res[TD_V[167]]=res[TD_V[165]]else for i=TN(TD_V[3]),res[TD_V[165]]do if math[TD_V[132]]()<=TN(TD_V[73])then res[TD_V[168]]=res[TD_V[168]]+TN(TD_V[3])else res[TD_V[167]]=res[TD_V[167]]+TN(TD_V[3])end end end local rare=doer~=nil and doer[TD_V[134]][TD_V[162]]and doer[TD_V[134]][TD_V[162]]:EquipHasTag(TD_V[63])and TN(TD_V[74])or TN(TD_V[75])if doer~=nil and doer[TD_V[76]]then rare=TN(TD_V[3])if doer[TD_V[134]][TD_V[169]]and doer[TD_V[134]][TD_V[169]]:HasDebuff(TD_V[76])then doer[TD_V[134]][TD_V[169]]:RemoveDebuff(TD_V[76])end end if math[TD_V[132]]()<=rare then res[TD_V[170]]=TN(TD_V[3])end return res end local function OnPicked(inst,picker)local fruitData=GetFruitNumber(inst,picker)if fruitData[TD_V[168]]>TN(TD_V[33])then for i=TN(TD_V[3]),fruitData[TD_V[168]]do if picker~=nil and math[TD_V[132]]()<TN(TD_V[73])then DropFruit(inst,false,GetSpawnPoint(picker))else DropFruit(inst,false,GetSpawnPoint(inst))end end end if fruitData[TD_V[170]]>TN(TD_V[33])then if picker~=nil then DropFruit(inst,true,GetSpawnPoint(picker))YouAreNaughty(picker)else DropFruit(inst,true,GetSpawnPoint(inst))end end if fruitData[TD_V[167]]>TN(TD_V[33])then if picker~=nil and picker[TD_V[134]][TD_V[162]]~=nil then local loot=SpawnPrefab(TD_V[48])if loot~=nil then if loot[TD_V[134]][TD_V[158]]~=nil then loot[TD_V[134]][TD_V[158]]:InheritMoisture(TheWorld[TD_V[171]][TD_V[172]],TheWorld[TD_V[171]][TD_V[173]])end if loot[TD_V[134]][TD_V[174]]~=nil then loot[TD_V[134]][TD_V[174]]:SetStackSize(fruitData[TD_V[167]])end picker:PushEvent(TD_V[77],{object=inst,loot=loot})picker[TD_V[134]][TD_V[162]]:GiveItem(loot,nil,inst:GetPosition())end else for i=TN(TD_V[3]),fruitData[TD_V[167]]do DropFruit(inst,false,GetSpawnPoint(inst))end end end local growable=inst[TD_V[134]][TD_V[121]]if growable~=nil then growable:SetStage(TN(TD_V[3]))if growable[TD_V[175]][TN(TD_V[3])]~=nil and growable[TD_V[175]][TN(TD_V[3])][TD_V[176]]~=nil then growable[TD_V[175]][TN(TD_V[3])][TD_V[176]](growable[TD_V[177]])end growable:StartGrowing()end end local function SetRandomIdleAnim(inst,isPush)if isPush then inst[TD_V[133]]:PushAnimation(math[TD_V[132]]()>TN(TD_V[34])and TD_V[78]or TD_V[79],true)else inst[TD_V[133]]:PlayAnimation(math[TD_V[132]]()>TN(TD_V[34])and TD_V[78]or TD_V[79],true)end end local function OnSnowCoveredChagned(inst,covered)if TheWorld[TD_V[171]][TD_V[113]]then inst[TD_V[133]]:OverrideSymbol(TD_V[80],TD_V[12],TD_V[80])else inst[TD_V[133]]:OverrideSymbol(TD_V[80],TD_V[12],TD_V[81])end end local function SetStateFn(inst,level)if inst[TD_V[134]][TD_V[19]]~=nil then inst[TD_V[134]][TD_V[19]]:SetWorkLeft(workLeft_tree)if level==TN(TD_V[3])then inst[TD_V[134]][TD_V[120]]:SetPickable(false)inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[6],TD_V[22],TD_V[22],TD_V[22]})elseif level==TN(TD_V[11])then inst[TD_V[134]][TD_V[120]]:SetPickable(false)inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[6],TD_V[22],TD_V[22],TD_V[22],TD_V[45],TD_V[45],TD_V[45],TD_V[45],TD_V[45]})elseif level==TN(TD_V[28])then inst[TD_V[134]][TD_V[120]]:SetPickable(true)inst[TD_V[134]][TD_V[18]]:SetLoot({TD_V[6],TD_V[22],TD_V[22],TD_V[22],TD_V[48],TD_V[48]})end end SetRandomIdleAnim(inst,true)end local function SetStateGrowFn(inst,level)if level==TN(TD_V[3])then inst[TD_V[133]]:OverrideSymbol(TD_V[82],TD_V[12],TD_V[83])inst[TD_V[133]]:OverrideSymbol(TD_V[84],TD_V[12],TD_V[84])inst[TD_V[133]]:OverrideSymbol(TD_V[85],TD_V[12],TD_V[83])inst[TD_V[139]]:PlaySound(TD_V[9])elseif level==TN(TD_V[11])then inst[TD_V[133]]:OverrideSymbol(TD_V[82],TD_V[12],TD_V[83])inst[TD_V[133]]:OverrideSymbol(TD_V[84],TD_V[12],TD_V[83])inst[TD_V[133]]:OverrideSymbol(TD_V[85],TD_V[12],TD_V[85])inst[TD_V[139]]:PlaySound(TD_V[86])elseif level==TN(TD_V[28])then inst[TD_V[133]]:OverrideSymbol(TD_V[82],TD_V[12],TD_V[82])inst[TD_V[133]]:OverrideSymbol(TD_V[84],TD_V[12],TD_V[83])inst[TD_V[133]]:OverrideSymbol(TD_V[85],TD_V[12],TD_V[83])inst[TD_V[139]]:PlaySound(TD_V[86])end SetRandomIdleAnim(inst,true)inst:DoTaskInTime(TN(TD_V[34]),function(inst)OnSnowCoveredChagned(inst)end)end local growthStages={{name=TD_V[87],time=function(inst)return GetRandomWithVariance(TUNING[TD_V[140]]*TN(TD_V[88]),TUNING[TD_V[140]])end,fn=function(inst)SetStateFn(inst,TN(TD_V[3]))end,growfn=function(inst)SetStateGrowFn(inst,TN(TD_V[3]))end},{name=TD_V[89],time=function(inst)return GetRandomWithVariance(TUNING[TD_V[140]]*TN(TD_V[88]),TUNING[TD_V[140]])end,fn=function(inst)SetStateFn(inst,TN(TD_V[11]))end,growfn=function(inst)SetStateGrowFn(inst,TN(TD_V[11]))end},{name=TD_V[90],time=function(inst)return GetRandomWithVariance(TUNING[TD_V[140]]*TN(TD_V[88]),TUNING[TD_V[140]])end,fn=function(inst)SetStateFn(inst,TN(TD_V[28]))end,growfn=function(inst)SetStateGrowFn(inst,TN(TD_V[28]))end}}local function OnBurnt_tree(inst)SpawnPrefab(TD_V[47])[TD_V[137]]:SetPosition(inst[TD_V[137]]:GetWorldPosition())inst:Remove()end local function OnHaunt_tree(inst,haunter)if inst[TD_V[134]][TD_V[19]]~=nil and math[TD_V[132]]()<=TUNING[TD_V[178]]then inst[TD_V[134]][TD_V[19]]:WorkedBy(haunter,TN(TD_V[3]))inst[TD_V[134]][TD_V[122]][TD_V[179]]=TUNING[TD_V[180]]return true end return false end local function OnRemove_tree(inst)local tree=SpawnPrefab(TD_V[52])if tree then tree[TD_V[137]]:SetPosition(inst[TD_V[137]]:GetWorldPosition())end end local function StartGrowing_tree(inst)inst[TD_V[134]][TD_V[121]]:SetStage(TN(TD_V[3]))SetStateGrowFn(inst,TN(TD_V[3]))inst[TD_V[181]]=false inst:RemoveEventCallback(TD_V[91],OnRemove_tree)end local function OnEntitySleep_tree(inst)if inst[TD_V[134]][TD_V[147]]~=nil and inst[TD_V[134]][TD_V[147]]:IsBurning()then OnBurnt_tree(inst)end end local function OnSave_tree(inst,data)if inst[TD_V[181]]==false then data[TD_V[181]]=false end end local function OnLoad_tree(inst,data)if data~=nil then if data[TD_V[181]]~=nil and data[TD_V[181]]==false then inst[TD_V[181]]=false inst:RemoveEventCallback(TD_V[91],OnRemove_tree)end end if inst[TD_V[134]][TD_V[121]]~=nil and inst[TD_V[134]][TD_V[121]][TD_V[164]]~=nil then SetStateGrowFn(inst,inst[TD_V[134]][TD_V[121]][TD_V[164]])end end local function OnChop_tree(inst,chopper,chopsleft,numchops)if not(chopper~=nil and chopper:HasTag(TD_V[41]))then inst[TD_V[139]]:PlaySound(chopper~=nil and chopper:HasTag(TD_V[92])and TD_V[93]or TD_V[42])end inst[TD_V[133]]:PlayAnimation(TD_V[94])SetRandomIdleAnim(inst,true)local x,y,z=GetSpawnPoint(inst)SpawnFx(inst,x,y+TN(TD_V[3])+math[TD_V[132]]()*TN(TD_V[11]),z)if inst[TD_V[134]][TD_V[121]][TD_V[164]]==TN(TD_V[28])and math[TD_V[132]]()<TN(TD_V[95])then if chopper~=nil then DropFruit(inst,false,GetSpawnPoint(chopper))else DropFruit(inst,false,GetSpawnPoint(inst))end end local ents=TheSim:FindEntities(x,y,z,TUNING[TD_V[182]],{TD_V[96]})for i,v in ipairs(ents)do if v[TD_V[134]][TD_V[183]]~=nil and v[TD_V[134]][TD_V[183]]:IsAsleep()then v:DoTaskInTime(math[TD_V[132]](),function(ent)ent[TD_V[134]][TD_V[183]]:WakeUp()end)end v[TD_V[134]][TD_V[160]]:SuggestTarget(chopper)end end local function find_leif_spawn_target(item)return not item[TD_V[184]]and item[TD_V[134]][TD_V[121]]~=nil and item[TD_V[134]][TD_V[121]][TD_V[164]]<=TN(TD_V[28])end local function OnChopDown_tree(inst,chopper)if inst[TD_V[134]][TD_V[120]]~=nil then inst[TD_V[134]][TD_V[120]]:SetPickable(false)end if inst[TD_V[134]][TD_V[121]]~=nil and inst[TD_V[134]][TD_V[121]][TD_V[164]]==TN(TD_V[28])then local fruitData=GetFruitNumber(inst)if fruitData[TD_V[165]]>TN(TD_V[33])then for i=TN(TD_V[3]),fruitData[TD_V[165]]do inst[TD_V[134]][TD_V[18]]:AddChanceLoot(TD_V[48],TN(TD_V[97]))end end if fruitData[TD_V[170]]>TN(TD_V[33])then inst[TD_V[134]][TD_V[18]]:AddChanceLoot(TD_V[49],TN(TD_V[97]))YouAreNaughty(chopper,math[TD_V[132]](TN(TD_V[28]),TN(TD_V[65])))else YouAreNaughty(chopper)end else YouAreNaughty(chopper)end inst[TD_V[139]]:PlaySound(TD_V[98])FallAndDropLoot(inst,chopper,TD_V[99])inst:ListenForEvent(TD_V[44],function(inst)SpawnPrefab(TD_V[46])[TD_V[137]]:SetPosition(inst[TD_V[137]]:GetWorldPosition())inst:Remove()end)inst:DoTaskInTime(TN(TD_V[100]),function(inst)ShakeAllCameras(CAMERASHAKE[TD_V[185]],TN(TD_V[38]),TN(TD_V[101]),TN(TD_V[34]),inst,TN(TD_V[65]))end)if chopper then local days_survived=chopper[TD_V[134]][TD_V[186]]~=nil and chopper[TD_V[134]][TD_V[186]]:GetAgeInDays()or TheWorld[TD_V[171]][TD_V[187]]if days_survived>=TUNING[TD_V[188]]then local chance=TUNING[TD_V[189]]*TN(TD_V[29])if math[TD_V[132]]()<chance then for k=TN(TD_V[3]),(days_survived<=TN(TD_V[102])and TN(TD_V[3]))or math[TD_V[132]](days_survived<=TN(TD_V[103])and TN(TD_V[11])or TN(TD_V[28]))do local target=FindEntity(inst,TUNING[TD_V[190]],find_leif_spawn_target,{TD_V[104],TD_V[105]},{TD_V[96],TD_V[32],TD_V[37]})if target~=nil then target[TD_V[184]]=true target[TD_V[191]]=target[TD_V[134]][TD_V[121]][TD_V[175]][target[TD_V[134]][TD_V[121]][TD_V[164]]][TD_V[191]]or TN(TD_V[3])target[TD_V[192]]=chopper target:DoTaskInTime(TN(TD_V[3])+math[TD_V[132]]()*TN(TD_V[28]),function(target)local leif=SpawnPrefab(target[TD_V[193]]==TD_V[106]and TD_V[107]or TD_V[96])leif[TD_V[133]]:SetMultColour(target[TD_V[133]]:GetMultColour())leif:SetLeifScale(target[TD_V[191]])if target[TD_V[192]]~=nil then leif[TD_V[134]][TD_V[160]]:SuggestTarget(target[TD_V[192]])end local x,y,z=target[TD_V[137]]:GetWorldPosition()target:Remove()leif[TD_V[137]]:SetPosition(x,y,z)leif[TD_V[194]]:GoToState(TD_V[108])end)end end end end end end local function Fn_tree()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddAnimState()inst[TD_V[141]]:AddSoundEmitter()inst[TD_V[141]]:AddMiniMapEntity()inst[TD_V[141]]:AddNetwork()MakeObstaclePhysics(inst,TN(TD_V[38]))inst[TD_V[145]]:SetIcon(TD_V[26])inst[TD_V[145]]:SetPriority(-TN(TD_V[3]))inst[TD_V[133]]:SetBank(TD_V[12])inst[TD_V[133]]:SetBuild(TD_V[12])inst[TD_V[133]]:PlayAnimation(TD_V[78],true)inst[TD_V[133]]:OverrideSymbol(TD_V[80],TD_V[12],TD_V[81])inst[TD_V[133]]:OverrideSymbol(TD_V[82],TD_V[12],TD_V[83])inst[TD_V[133]]:OverrideSymbol(TD_V[84],TD_V[12],TD_V[84])inst[TD_V[133]]:OverrideSymbol(TD_V[85],TD_V[12],TD_V[83])inst:AddTag(TD_V[109])inst:AddTag(TD_V[110])inst:AddTag(TD_V[14])inst:AddTag(TD_V[111])inst:AddTag(TD_V[112])inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end SetRandomColor(inst)SetRandomAnimTime(inst)inst[TD_V[181]]=true inst[TD_V[138]]=StartGrowing_tree inst:WatchWorldState(TD_V[113],OnSnowCoveredChagned)MakeLargeBurnable(inst,TUNING[TD_V[146]])inst[TD_V[134]][TD_V[147]]:SetFXLevel(TN(TD_V[29]))inst[TD_V[134]][TD_V[147]]:SetOnBurntFn(OnBurnt_tree)MakeMediumPropagator(inst)inst:AddComponent(TD_V[17])inst[TD_V[134]][TD_V[17]][TD_V[195]]=function(inst)if inst[TD_V[134]][TD_V[121]]~=nil then return(inst[TD_V[134]][TD_V[147]]~=nil and inst[TD_V[134]][TD_V[147]]:IsBurning()and TD_V[114])or(inst[TD_V[134]][TD_V[121]][TD_V[164]]==TN(TD_V[11])and TD_V[115])or(inst[TD_V[134]][TD_V[121]][TD_V[164]]==TN(TD_V[28])and TD_V[116])or nil end return nil end inst:AddComponent(TD_V[19])inst[TD_V[134]][TD_V[19]]:SetWorkAction(ACTIONS[TD_V[148]])inst[TD_V[134]][TD_V[19]]:SetWorkLeft(workLeft_tree)inst[TD_V[134]][TD_V[19]]:SetOnWorkCallback(OnChop_tree)inst[TD_V[134]][TD_V[19]]:SetOnFinishCallback(OnChopDown_tree)inst:AddComponent(TD_V[18])inst:AddComponent(TD_V[117])inst[TD_V[134]][TD_V[117]][TD_V[196]]=TD_V[118]inst[TD_V[134]][TD_V[117]]:SetUp(TD_V[48],TN(TD_V[119]))inst[TD_V[134]][TD_V[117]]:Pause()inst[TD_V[134]][TD_V[117]][TD_V[197]]=false inst[TD_V[134]][TD_V[117]][TD_V[198]]=false inst[TD_V[134]][TD_V[117]][TD_V[199]]=function(inst,picker)if inst[TD_V[134]][TD_V[120]]~=nil then inst[TD_V[134]][TD_V[120]]:Pick(picker)end end inst:AddComponent(TD_V[120])inst[TD_V[134]][TD_V[120]]:SetOnPickedFn(OnPicked)local state=math[TD_V[132]](TN(TD_V[3]),TN(TD_V[28]))inst:AddComponent(TD_V[121])inst[TD_V[134]][TD_V[121]][TD_V[175]]=growthStages inst[TD_V[134]][TD_V[121]][TD_V[200]]=true inst[TD_V[134]][TD_V[121]]:SetStage(state)inst[TD_V[134]][TD_V[121]]:StartGrowing()SetStateGrowFn(inst,state)inst:AddComponent(TD_V[122])inst[TD_V[134]][TD_V[122]]:SetOnHauntFn(OnHaunt_tree)inst[TD_V[201]]=OnSave_tree inst[TD_V[202]]=OnLoad_tree inst[TD_V[203]]=OnEntitySleep_tree inst:ListenForEvent(TD_V[91],OnRemove_tree)return inst end local function MakeOldVersionTree(name,newTree,level)local function Fn_oldVersionTree()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst[TD_V[141]]:AddNetwork()inst[TD_V[141]]:SetPristine()if not TheWorld[TD_V[142]]then return inst end inst:DoTaskInTime(TN(TD_V[3]),function(inst)local tree=SpawnPrefab(newTree)if tree~=nil then tree[TD_V[137]]:SetPosition(inst[TD_V[137]]:GetWorldPosition())if level==TN(TD_V[3])and tree[TD_V[138]]~=nil then tree:StartGrowing()end inst:Remove()end end)return inst end return Prefab(name,Fn_oldVersionTree,nil,{newTree})end local function SetRegenerateTimer(inst)if inst[TD_V[134]][TD_V[15]]~=nil and not inst[TD_V[134]][TD_V[15]]:TimerExists(TD_V[123])then local regeneratetime=GetRandomWithVariance(TUNING[TD_V[140]]*TN(TD_V[124]),TUNING[TD_V[140]]*TN(TD_V[29]))inst[TD_V[134]][TD_V[15]]:StartTimer(TD_V[123],regeneratetime)end end local function FindRuinedPeachTree(item)return item[TD_V[166]]==TD_V[47]or item[TD_V[166]]==TD_V[46]end local function OnTimerDone_regenerate(inst,data)if data[TD_V[135]]==TD_V[123]then local x,y,z=inst[TD_V[137]]:GetWorldPosition()local map=TheWorld[TD_V[204]]if map==nil then SetRegenerateTimer(inst)return end if map:CanPlantAtPoint(x,y,z)and map:CanPlacePrefabFilteredAtPoint(x,y,z,TD_V[24])and not(RoadManager~=nil and RoadManager:IsOnRoad(x,TN(TD_V[33]),z))and #TheSim:FindEntities(x,y,z,TN(TD_V[125]),nil,{TD_V[59],TD_V[60],TD_V[62],TD_V[37],TD_V[32]},nil)<=TN(TD_V[33])then local ruinedTree=FindEntity(inst,TN(TD_V[34]),FindRuinedPeachTree)if ruinedTree~=nil then ruinedTree:Remove()end local tree=SpawnPrefab(TD_V[24])if tree then tree[TD_V[137]]:SetPosition(x,y,z)inst:Remove()end else SetRegenerateTimer(inst)end end end local function Fn_peachRegenerate()local inst=CreateEntity()inst[TD_V[141]]:AddTransform()inst:AddTag(TD_V[126])inst:AddTag(TD_V[59])inst:AddComponent(TD_V[15])inst:ListenForEvent(TD_V[16],OnTimerDone_regenerate)SetRegenerateTimer(inst)return inst end return Prefab(TD_V[127],Fn_sprout,assets_sprout,prefabs_sprout),Prefab(TD_V[7],Fn_sapling,assets_sprout,prefabs_sapling),Prefab(TD_V[46],Fn_stump,assets_sprout,prefabs_stump),Prefab(TD_V[47],Fn_burnt,assets_sprout,prefabs_burnt),Prefab(TD_V[24],Fn_tree,assets_tree,prefabs_tree),MakeOldVersionTree(TD_V[110],TD_V[24],TN(TD_V[11])),MakeOldVersionTree(TD_V[128],TD_V[127],TN(TD_V[3])),MakeOldVersionTree(TD_V[129],TD_V[7],TN(TD_V[3])),MakeOldVersionTree(TD_V[130],TD_V[24],TN(TD_V[11])),MakeOldVersionTree(TD_V[131],TD_V[24],TN(TD_V[11])),Prefab(TD_V[52],Fn_peachRegenerate,nil,{TD_V[24]})
